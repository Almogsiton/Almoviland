<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:panelGroup rendered="#{pageController.currentPage eq 'register'}">
        <h1>Register</h1>

        <!--  注 注 转 砖 -->
        <h:panelGroup styleClass="info-box">
            <p>
                 With your subscription, you can borrow up to 
                <strong>#{userBean.borrowLimit}</strong> movies!
            </p>
        </h:panelGroup>

        <!--  驻住  -->
        <h:form id="registerFormFull">
            <h:panelGrid columns="4">

                <!--  Full Name -->
                <h:outputLabel for="name" value="Full Name:"/>
                <h:inputText id="name" value="#{userBean.newUser.name}" required="true"
                             requiredMessage="Full name is required!"/>
                <h:message for="name" styleClass="error-message"/>

                <h:outputLabel for="email" value="Email:"/>
                <h:inputText id="email" value="#{userBean.newUser.email}" required="true"
                             requiredMessage="Email is required!">
                    <f:validateRegex pattern="[^@]+@[^@]+\.[^@]+"/>







                </h:inputText>
                <h:message for="email" styleClass="error-message"/>



                <!--  Password -->
                <h:outputLabel for="password" value="Password:"/>
                <h:inputSecret id="password" value="#{userBean.newUser.password}" required="true"
                               requiredMessage="Password is required!">
                    <f:validateLength minimum="6"/>
                </h:inputSecret>
                <h:message for="password" styleClass="error-message"/>

                <!--  Confirm Password -->
                <h:outputLabel for="confirmPassword" value="Confirm Password:"/>
                <h:inputSecret id="confirmPassword" value="#{userBean.confirmPassword}" required="true"
                               requiredMessage="Please confirm your password!">
                    <f:validator validatorId="passwordMatchValidator"/>
                </h:inputSecret>
                <h:message for="confirmPassword" styleClass="error-message"/>

                <!--  Credit Card Number -->
                <h:outputLabel for="creditCard" value="Credit Card Number:"/>
                <h:inputText id="creditCard" value="#{userBean.creditCardNumber}" required="true"
                             maxlength="16" requiredMessage="Credit card number is required!"/>
                <h:message for="creditCard" styleClass="error-message"/>

                <!--  CVC -->
                <h:outputLabel for="cvc" value="CVC:"/>
                <h:inputText id="cvc" value="#{userBean.cvc}" required="true"
                             maxlength="3" requiredMessage="CVC is required!"/>
                <h:message for="cvc" styleClass="error-message"/>

                <!--  Expiry Month -->
                <h:outputLabel for="expiryMonth" value="Expiry Month:"/>
                <h:selectOneMenu id="expiryMonth" value="#{userBean.expiryMonth}" required="true">
                    <f:selectItem itemLabel="-- Month --" itemValue="" noSelectionOption="true"/>
                    <f:selectItems value="#{userBean.monthOptions}"/>
                </h:selectOneMenu>
                <h:message for="expiryMonth" styleClass="error-message"/>

                <!--  Expiry Year -->
                <h:outputLabel for="expiryYear" value="Expiry Year:"/>
                <h:selectOneMenu id="expiryYear" value="#{userBean.expiryYear}" required="true">
                    <f:selectItem itemLabel="-- Year --" itemValue="" noSelectionOption="true"/>
                    <f:selectItems value="#{userBean.yearOptions}"/>
                </h:selectOneMenu>
                <h:message for="expiryYear" styleClass="error-message"/>
            </h:panelGrid>

            <br/>

            <!--  Buttons -->
            <h:panelGrid columns="2" styleClass="button-container">
                <h:commandButton value="Register" action="#{userBean.registerUser}" />

                <h:commandButton value="Back to Login" action="#{pageController.setPage('login')}">
                    <f:ajax execute="@form" render="@all"/>
                </h:commandButton>
            </h:panelGrid>

            <!-- 注转 转 -->
            <h:messages id="messages" globalOnly="true" showDetail="true"
                        infoClass="success-message" errorClass="error-message"/>
        </h:form>
    </h:panelGroup>
</ui:composition>
